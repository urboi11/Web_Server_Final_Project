@model List<Recipe>

@{
    ViewData["Title"] = "Recipe Type";
    var selectedType = ViewBag.SelectedType as string ?? "Dessert";
}


<section class="container py-4">
    <div class="text-center mb-4">
        <h1 class="display-6 fw-normal mb-2">Browse by Recipe Type</h1>
        <p class="text-body-secondary small mb-0">
            Choose a recipe type to see matching CozyBakes recipes.
        </p>
    </div>

   <form asp-action="Type" asp-controller="Recipes" method="post" class="row justify-content-center mb-4">
    <div class="col-12 col-md-6 col-lg-4">
        <div class="input-group">
            <select name="type" id="myDropdown" class="form-select">
                    <option value="Dessert" selected="@(selectedType == "Dessert")">Dessert</option>
                    <option value="Soup" selected="@(selectedType == "Soup")">Soup</option>
            </select>
            <button type="submit" class="btn btn-teal">
                Search
            </button>
        </div>
    </div>
</form>


    @if (Model != null && Model.Any())
    {
        <div class="row g-4">
            @foreach (var recipe in Model)
            {
                <div class="col-12 col-md-6 col-lg-4">
                    <article class="feature-card card h-100">
                        <div class="card-body">
                            <h2 class="h5 card-title mb-2">@recipe.Title</h2>
                            <p class="card-text mb-2">
                                @recipe.Description
                            </p>
                            <p class="card-text small text-body-secondary mb-0">
                                <strong>Prep:</strong> @recipe.PrepMinutes min
                                <span class="mx-1">•</span>
                                <strong>Bake:</strong> @recipe.BakeMinutes min
                            </p>
                        </div>
                    </article>
                </div>
            }
        </div>
    }
    else
    {
        <p class="text-center text-body-secondary mt-3">
            No recipes found for this type yet. Try selecting a different type.
        </p>
    }
</section>
