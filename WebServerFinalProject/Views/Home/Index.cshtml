@model List<Recipe>
@{
    ViewData["Title"] = "Home";
}

<section class="cozy-hero container py-5 py-lg-6 text-center">
    <h1 class="display-5 fw-normal mb-3">
        <span class="welcome-prefix">Welcome to</span>
        <span class="brand-script">
            <span class="cozy">Cozy</span><span class="b">B</span><span class="a">a</span><span class="k">k</span><span class="e">e</span><span class="s">s</span>
        </span>
    </h1>
    <p class="lead text-body-secondary mx-auto" style="max-width: 860px;">
        Your cozy corner for discovering delicious recipes, finding ingredient substitutes,
        and getting inspired to bake for every season and occasion.
    </p>
    <div class="mt-3">
        <a class="btn btn-lg btn-teal" asp-controller="Recipes" asp-action="Index">Explore Recipes</a>
    </div>
</section>

<section class="container pb-5">
    <div class="row g-4">

        <!-- Discover Recipes -->
        <div class="col-12 col-md-4 col-lg-4">
            <a asp-controller="Recipes" asp-action="Index" class="feature-link text-decoration-none">
                <div class="feature-card card h-100 text-center p-3">
                    <img src="~/images/icons/searchIcon.png"
                         alt="Recipe search icon"
                         class="feature-img mx-auto mb-2" />
                    <h3 class="h6 mb-1">Discover Recipes</h3>
                    <p class="small text-body-secondary mb-0">
                        Browse our collection of tested and loved baking recipes
                    </p>
                </div>
            </a>
        </div>


        <!-- Seasonal Baking -->
        <div class="col-12 col-md-4 col-lg-4">
            <a asp-controller="Recipes" asp-action="Season" class="feature-link text-decoration-none">
                <div class="feature-card card h-100 text-center p-3">
                    <img src="~/images/icons/seasonalBakingCalendarIcon.png"
                         alt="Seasonal baking calendar icon"
                         class="feature-img mx-auto mb-2" />
                    <h3 class="h6 mb-1">Seasonal Baking</h3>
                    <p class="small text-body-secondary mb-0">
                        Get inspired by seasonal flavors and occasions
                    </p>
                </div>
            </a>
        </div>

        <!-- Baking Tips -->
        <div class="col-12 col-md-4 col-lg-4">
            <a asp-controller="Home" asp-action="AboutHobby" class="feature-link text-decoration-none">
                <div class="feature-card card h-100 text-center p-3">
                    <img src="~/images/icons/findSubsIcon.png"
                         alt="Baking tips icon"
                         class="feature-img mx-auto mb-2" />
                    <h3 class="h6 mb-1">Baking Tips and Substitutes</h3>
                    <p class="small text-body-secondary mb-0">
                        Learn tried & true techniques and tips
                    </p>
                </div>
            </a>
        </div>
    </div>
</section>

<section class="container pb-5">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="h4 m-0">Featured Recipes</h2>
        <a class="btn btn-teal" asp-controller="Recipes" asp-action="Index">View All</a>
    </div>

    @if (Model != null && Model.Any())
    {
        <div class="row g-4">
            @foreach (var recipe in Model)
            {
                <div class="col-12 col-md-6 col-lg-3">
                    <article class="feature-card card h-100">
                        <div class="card-body d-flex flex-column justify-content-between">
                            <div>
                                <h3 class="h5 card-title mb-2">@recipe.Title</h3>
                                <p class="card-text small text-body-secondary mb-2">
                                    @recipe.Description
                                </p>

                                <p class="card-text small mb-2 text-end">
                                    <span class="difficulty-badge @recipe.Difficulty.ToLower()">
                                        @recipe.Difficulty
                                    </span>
                                </p>

                                <p class="card-text small text-body-secondary mb-1">
                                    <strong>Type:</strong> @recipe.Type
                                </p>


                                <p class="card-text small text-body-secondary mb-1">
                                    <strong>Prep:</strong> @recipe.PrepMinutes min
                                    <span class="mx-1">•</span>
                                    <strong>Bake:</strong> @recipe.BakeMinutes min
                                </p>
                            </div>

                            <form asp-action="submitForm" asp-controller="Recipes" method="post" class="mt-2">
                                <input type="hidden" name="title" value="@recipe.Title" />
                                <button class="btn btn-teal btn-sm w-100">View Details</button>
                            </form>
                        </div>
                    </article>
                </div>
            }
        </div>
    }
    else
    {
        <p class="text-center text-body-secondary mt-3">
            No recipes are available yet. Check back soon for new CozyBakes treats!
        </p>
    }
</section>

